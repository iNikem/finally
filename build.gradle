apply plugin: 'java'
apply plugin: 'application'

repositories {
    jcenter()
}

dependencies {
  compile 'org.ow2.asm:asm-all:4.0'
}

jar {
  manifest {
    attributes(
        'Premain-Class': 'eu.nikem.Agent',
        'Can-Retransform-Classes': true,
        'Boot-Class-Path': jar.archiveName+",/Users/Nikem/.gradle/caches/artifacts-26/filestore/org.ow2.asm/asm-all/4.0/jar/2518725354c7a6a491a323249b9e86846b00df09/asm-all-4.0.jar",
    )
  }
}

run.dependsOn('jar')
run {
  main = 'eu.nikem.Main'
  jvmArgs = [
      "-javaagent:${jar.archivePath}"
  ]
}
